(window.webpackJsonp=window.webpackJsonp||[]).push([[159,32,42,44,54,55],{1085:function(t,e,n){"use strict";n(952)},1086:function(t,e,n){var r=n(5)((function(i){return i[1]}));r.push([t.i,".CaseBattleModeSwitch{display:flex;gap:.5rem}.CaseBattleModeSwitch .CaseBattleModeSwitch_option.CaseBattleModeSwitch_option--selected .CaseBattleModeSwitch_button{background:rgb(var(--color-dark-100))}.CaseBattleModeSwitch .CaseBattleModeSwitch_button{border-radius:10px;cursor:pointer;padding:.25rem .75rem;transition:background .3s}.CaseBattleModeSwitch .CaseBattleModeSwitch_button:hover{background:rgb(var(--color-dark-100))}",""]),r.locals={},t.exports=r},1230:function(t,e,n){var content=n(1417);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(6).default)("ffac35d4",content,!0,{sourceMap:!1})},1349:function(t,e,n){"use strict";n.r(e);var r={model:{event:"change"},data:function(){return{options:[{text:this.$t("case-battle.game-mode.all"),value:void 0,textColor:"117,129,179"},{text:this.$t("case-battle.game-mode.default"),value:"default",textColor:"var(--color-primary)"},{text:this.$t("case-battle.game-mode.underdog"),value:"underdog",textColor:"var(--color-gold)"},{text:this.$t("case-battle.game-mode.shared"),value:"shared",textColor:"var(--color-green)"}],mode:void 0}},methods:{onClickOption:function(option){this.mode!==option.value&&(this.mode=option.value,this.$emit("change",{mode:this.mode}))}}},o=(n(1085),n(1)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("ul",{staticClass:"CaseBattleModeSwitch"},t._l(t.options,(function(option){return e("li",{key:option.value,class:{CaseBattleModeSwitch_option:!0,"CaseBattleModeSwitch_option--selected":t.mode===option.value}},[e("button",{staticClass:"CaseBattleModeSwitch_button",style:{color:"rgba(".concat(option.textColor,", 1)")},on:{click:function(e){return e.preventDefault(),t.onClickOption(option)}}},[t._v("\n      "+t._s(option.text)+"\n    ")])])})),0)}),[],!1,null,null,null);e.default=component.exports},1416:function(t,e,n){"use strict";n(1230)},1417:function(t,e,n){var r=n(5)((function(i){return i[1]}));r.push([t.i,".AppPage.AppPage--case-battle .AppPage_section{margin:0 auto;max-width:var(--max-width);padding:0 1rem 3rem;width:100%}.AppPage.AppPage--case-battle .AppPage_promotion{align-items:center;background:#2f0419;background-image:url(/images/case-battle/emily-promotion.jpg);background-position-x:-20px;background-repeat:no-repeat;background-size:cover;border-radius:var(--border-radius-m);box-shadow:inset 0 0 20px hsla(0,0%,100%,.2);display:flex;font-size:.92rem;font-weight:600;gap:.5rem;height:100px;justify-content:flex-start;margin-top:var(--margin);padding:8px 8px 8px 120px;text-shadow:2px 2px 2px #702715;width:100%}.AppPage.AppPage--case-battle .AppPage_promotion strong{color:#ff9d9d}.AppPage.AppPage--case-battle .AppPage_store-link{display:block;margin:1rem auto;width:-moz-max-content;width:max-content}.AppPage.AppPage--case-battle .AppPage_battles{margin-top:var(--margin);min-height:50vh}@media screen and (min-width:900px){.AppPage.AppPage--case-battle .AppPage_promotion{background-position-x:0;font-size:1.5rem;padding:8px 8px 8px 160px;text-shadow:2px 2px 2px #702715}.AppPage.AppPage--case-battle .AppPage_store-link{margin:1rem 0 0 auto}}",""]),r.locals={},t.exports=r},1837:function(t,e,n){"use strict";n.r(e);n(17),n(52),n(54),n(57),n(48),n(21),n(22),n(23),n(15),n(30),n(39),n(16);var r=n(2),o=n(0),l=n(58);n(11),n(19),n(20),n(407),n(38),n(87),n(79),n(8),n(40),n(42),n(36);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,a){if(t){if("string"==typeof t)return h(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?h(t,a):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,l=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw l}}}}function h(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,n=Array(a);e<a;e++)n[e]=t[e];return n}var m={computed:{battleList:function(){var t,e=this,n=[],r=[],o=f(this.battles);try{for(o.s();!(t=o.n()).done;){var c=t.value,d={id:c.id,mode:c.mode,rounds:c.rounds.length,containers:c.rounds.map((function(t){return t.container})),value:c.value,slots:c.slots,startedAt:c.startedAt,archivedAt:c.archivedAt};c.archivedAt?r.push(d):n.push(d)}}catch(t){o.e(t)}finally{o.f()}if("price"===this.filters.sortBy){var h="asc"===this.filters.sortDir?1:-1;n=n.sort((function(a,b){return(a.value-b.value)*h})),r=r.sort((function(a,b){return(a.value-b.value)*h}))}else r=r.sort((function(a,b){return b.archivedAt-a.archivedAt}));var m=[].concat(Object(l.a)(n),Object(l.a)(r));if(0===this.hoverBattleIdx){var v=m.findIndex((function(t){return t.id===e.hoverBattleId})),B=m[v];v!==this.hoverBattleIdx&&(m.splice(v,1),m.splice(this.hoverBattleIdx,0,B))}return m},startedCount:function(){return this.battles.filter((function(t){return t.startedAt})).length}},data:function(){return{battles:[],battleAddQueue:[],battleRemoveQueue:[],joinedBattleId:null,tokenWalletBalance:null,isAnimated:!1,animationDuration:750,resetAnimationDurationTimeout:null,queueInterval:null,hoverBattleId:null,hoverBattleIdx:null,filters:{sortBy:"createdAt",sortDir:"asc"}}},fetch:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchBattles();case 2:t.isAnimated="visible"===document.visibilityState;case 3:case"end":return e.stop()}}),e)})))()},methods:{onSortChanged:function(t){var e=t.sortBy,n=t.sortDir;this.filters.sortBy=e,this.filters.sortDir=n,this.$refs.list.resetHover()},fetchBattles:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t||(t={}),n.next=4,e.$axios.$get("/api/case-battle/available-battles",{params:t||{}});case 4:r=n.sent,o=r.battles,l=r.tokenWalletBalance,e.battles=o.map((function(t){return d(d({},t),{},{archivedAt:t.startedAt})})),e.tokenWalletBalance=l,n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.error(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))()},onChangedFilters:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.battleAddQueue=[],t.battleRemoveQueue=[],t.animationDuration=450,e.next=5,t.fetchBattles(t.filters);case 5:t.resetAnimationDurationTimeout=setTimeout((function(){return t.animationDuration=750}),450);case 6:case"end":return e.stop()}}),e)})))()},onCaseBattleCreated:function(t){this.filters.mode&&this.filters.mode!==t.mode||(this.isAnimated?this.battleAddQueue.unshift(t):this.battles.unshift(t))},onCaseBattleStarted:function(t){var e=t.battleId,n=t.startedAt,r=this.battles.findIndex((function(t){return t.id===e}));r<0||(e!==this.joinedBattleId?(this.battles[r].slots.every((function(slot){return!!slot.user}))||console.log("Battle #".concat(e," has started but not every slot is filled!")),this.battles[r].startedAt=n):this.$router.push("/case-battle/".concat(e)))},onCaseBattleCanceled:function(t){var e=t.battleId,n=this.battleAddQueue.findIndex((function(t){return t.id===e}));if(n>-1&&this.battleAddQueue.splice(n,1),this.isAnimated)this.battleRemoveQueue.push(e);else{var r=this.battles.findIndex((function(t){return t.id===e}));r>-1&&this.battles.splice(r,1)}},onCaseBattleSlotUpdated:function(t){var e=t.battleId,slot=t.slot,n=this.battles.findIndex((function(t){return t.id===e}));if(!(n<0)){var r=this.battles[n].slots.findIndex((function(t){return t.id===slot.id}));r<0||this.$set(this.battles[n].slots,r,slot)}},handleBattlesQueue:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,d,h,m,v,B,x,C,_,y,k,A,w,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.battleAddQueue.splice(0),r=t.battleRemoveQueue.splice(0),o=window.scrollY,c=0,d=new Date(Date.now()-3e3),h=[],t.hoverBattleId||(h=t.battles.reduce((function(t,e){var n=e.startedAt&&new Date(e.startedAt);return n&&n<=d&&!e.archivedAt&&t.push(e.id),t}),[])),h.length)for(m=t.battles.filter((function(t){return!!t.archivedAt})),v=5-h.length;m.length&&m.length>v;)B=m.pop(),r.push(B.id);x=f(r),e.prev=9,_=regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=C.value)===t.hoverBattleId&&(t.hoverBattleId=null,t.hoverBattleIdx=null,t.$refs.list.resetHover()),r=t.battles.findIndex((function(t){return t.id===n})),!(r<0)){e.next=5;break}return e.abrupt("return",1);case 5:t.battles.splice(r,1),null!==t.hoverBattleIdx&&r<t.hoverBattleIdx&&c--;case 7:case"end":return e.stop()}}),e)})),x.s();case 12:if((C=x.n()).done){e.next=18;break}return e.delegateYield(_(),"t0",14);case 14:if(!e.t0){e.next=16;break}return e.abrupt("continue",16);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(9),x.e(e.t1);case 23:return e.prev=23,x.f(),e.finish(23);case 26:y=f(h),e.prev=27,A=regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=k.value,r=t.battles.findIndex((function(t){return t.id===n})),!(r<0)){e.next=4;break}return e.abrupt("return",1);case 4:t.battles[r].archivedAt=new Date;case 5:case"end":return e.stop()}}),e)})),y.s();case 30:if((k=y.n()).done){e.next=36;break}return e.delegateYield(A(),"t2",32);case 32:if(!e.t2){e.next=34;break}return e.abrupt("continue",34);case 34:e.next=30;break;case 36:e.next=41;break;case 38:e.prev=38,e.t3=e.catch(27),y.e(e.t3);case 41:return e.prev=41,y.f(),e.finish(41);case 44:n.length&&(w=t.battles).unshift.apply(w,Object(l.a)(n)),0!==c&&(T=t.$refs.list.hoverBattleHeight,t.hoverBattleIdx+=c,o+=c*T),t.isAnimated&&(n.length||h.length||r.length)&&window.scrollTo(0,o);case 47:case"end":return e.stop()}}),e,null,[[9,20,23,26],[27,38,41,44]])})))()},onMouseBattleEnter:function(t,e){this.hoverBattleId=t,this.hoverBattleIdx=e},onMouseBattleLeave:function(){var t=this;if("price"!==this.filters.sortBy){var e=this.battleList.findIndex((function(e){return e.id===t.hoverBattleId})),n=this.battles.findIndex((function(e){return e.id===t.hoverBattleId})),r=this.battles[n];r&&e!==this.hoverBattleIdx&&(this.battles.splice(n,1),this.battles.splice(this.hoverBattleIdx,0,r))}this.hoverBattleId=null,this.hoverBattleIdx=null},onTabVisibilityChanged:function(){this.isAnimated="visible"===document.visibilityState}},mounted:function(){this.$socket.on("case-battle.created",this.onCaseBattleCreated),this.$socket.on("case-battle.started",this.onCaseBattleStarted),this.$socket.on("case-battle.canceled",this.onCaseBattleCanceled),this.$socket.on("case-battle.slot-updated",this.onCaseBattleSlotUpdated),this.queueInterval=setInterval(this.handleBattlesQueue,600),document.addEventListener("visibilitychange",this.onTabVisibilityChanged)},destroyed:function(){this.$socket.off("case-battle.created",this.onCaseBattleCreated),this.$socket.off("case-battle.started",this.onCaseBattleStarted),this.$socket.off("case-battle.canceled",this.onCaseBattleCanceled),this.$socket.off("case-battle.slot-updated",this.onCaseBattleSlotUpdated),clearInterval(this.handleBattlesQueue),clearTimeout(this.resetAnimationDurationTimeout),document.removeEventListener("visibilitychange",this.onTabVisibilityChanged)}},v=(n(1416),n(1)),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("AppPage",{attrs:{name:"case-battle"}},[e("section",{staticClass:"AppPage_section"},[e("CaseBattleTabSelector",{attrs:{activeTab:"active-battles"}}),t._v(" "),null!==t.tokenWalletBalance?e("Tooltip",{staticClass:"AppPage_store-link",scopedSlots:t._u([{key:"tooltip",fn:function(){return[t._v("\n        "+t._s(t.$t("case-battle.tokens.description"))+"\n      ")]},proxy:!0}],null,!1,1729046217)},[t._v(" "),e("nuxt-link",{attrs:{to:"/case-battle/store"}},[e("CaseBattleTokens",{attrs:{value:t.tokenWalletBalance,full:""}})],1)],1):t._e(),t._v(" "),e("div",{staticClass:"AppPage_battles"},[e("CaseBattleList",{ref:"list",attrs:{battles:t.battleList,isAnimated:t.isAnimated,animationDuration:t.animationDuration,sortColumns:["price"],hoverBattleIdx:t.hoverBattleIdx},on:{joined:function(e){return t.joinedBattleId=e},onMouseItemEnter:t.onMouseBattleEnter,onMouseItemLeave:t.onMouseBattleLeave,onSortChanged:t.onSortChanged},scopedSlots:t._u([{key:"filters",fn:function(){return[e("CaseBattleModeSwitch",{on:{change:t.onChangedFilters},model:{value:t.filters,callback:function(e){t.filters=e},expression:"filters"}})]},proxy:!0}])})],1)],1)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CaseBattleTabSelector:n(828).default,CaseBattleTokens:n(829).default,Tooltip:n(406).default,CaseBattleModeSwitch:n(1349).default,CaseBattleList:n(934).default,AppPage:n(405).default})},777:function(t,e,n){var content=n(789);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(6).default)("35524028",content,!0,{sourceMap:!1})},788:function(t,e,n){"use strict";n(777)},789:function(t,e,n){var r=n(5)((function(i){return i[1]}));r.push([t.i,".AppTabSelector{align-items:center;background:rgb(var(--color-dark-100));border-radius:.5rem;display:flex;flex-direction:column;justify-content:space-between;padding:var(--margin-xs);width:100%}.AppTabSelector .AppTabSelector_list{display:flex;flex-direction:column;gap:var(--margin-xs);list-style:none;width:100%}.AppTabSelector .AppTabSelector_item{display:flex;width:100%}.AppTabSelector .AppTabSelector_link{align-items:center;border-radius:var(--border-radius-s);color:rgb(var(--color-grey-50));cursor:pointer;display:flex;font-size:.825rem;gap:var(--margin);justify-content:center;padding:12px;transition:background .3s,color .3s;width:100%}.AppTabSelector .AppTabSelector_link-icon{transition:color .3s}.AppTabSelector .AppTabSelector_link.button--active,.AppTabSelector .AppTabSelector_link:hover{background:rgb(var(--color-background-50));color:#fff}.AppTabSelector .AppTabSelector_link.button--active .AppTabSelector_link-icon,.AppTabSelector .AppTabSelector_link:hover .AppTabSelector_link-icon{color:rgb(var(--color-primary))}@media screen and (min-width:1024px){.AppTabSelector{align-items:stretch;flex-direction:row;flex-wrap:nowrap}.AppTabSelector .AppTabSelector_list{align-items:stretch;flex-direction:row;width:-moz-fit-content;width:fit-content}.AppTabSelector .AppTabSelector_item{align-items:stretch;white-space:nowrap}.AppTabSelector .AppTabSelector_link{font-size:.875rem;gap:var(--margin-s);padding:var(--margin-s) var(--margin)}}",""]),r.locals={},t.exports=r},791:function(t,e,n){"use strict";n.r(e);var r={model:{prop:"modelValue",event:"change"},props:{lists:{type:Array,required:!0},modelValue:{type:String,required:!0,default:""}},methods:{onChange:function(t){this.$emit("change",t)}}},o=(n(788),n(1)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("nav",{staticClass:"AppTabSelector"},t._l(t.lists,(function(n){return e("ul",{key:n.id,staticClass:"AppTabSelector_list"},t._l(n.items,(function(n){return e("li",{key:n.id,staticClass:"AppTabSelector_item"},[n.text?e("nuxt-link",{staticClass:"AppTabSelector_link",class:{"button--active":n.id===t.modelValue},attrs:{to:n.href},on:{click:function(e){return e.preventDefault(),t.onChange(n.id)}}},[n.icon?e("fa",{staticClass:"AppTabSelector_link-icon",attrs:{icon:n.icon}}):t._e(),t._v("\n        "+t._s(n.text)+"\n      ")],1):n.slot?t._t(n.slot):t._e()],2)})),0)})),0)}),[],!1,null,null,null);e.default=component.exports},807:function(t,e,n){var content=n(823);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(6).default)("76c619b8",content,!0,{sourceMap:!1})},809:function(t,e,n){var content=n(833);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(6).default)("9f2169d8",content,!0,{sourceMap:!1})},815:function(t,e,n){t.exports=n.p+"img/token.728b95f.png"},822:function(t,e,n){"use strict";n(807)},823:function(t,e,n){var r=n(5)((function(i){return i[1]}));r.push([t.i,".CaseBattleTabSelector{min-height:60px}.CaseBattleTabSelector .CaseBattleTabSelector_button{margin-top:var(--margin-xs);width:100%}@media screen and (min-width:1024px){.CaseBattleTabSelector .CaseBattleTabSelector_button{margin-top:0}}",""]),r.locals={},t.exports=r},828:function(t,e,n){"use strict";n.r(e);n(79);var r={props:{activeTab:{type:String},rightItems:{type:Array,default:function(){return[{slot:"new-battle"}]}}},data:function(){var t=[{id:"active-battles",text:this.$t("case-battle.tabs.active-battles"),icon:["far","swords"],href:"/case-battle"},{id:"top-battles",text:this.$t("case-battle.tabs.top-battles"),icon:["far","trophy"],href:"/case-battle/top-battles"},{id:"store",text:this.$t("case-battle.tabs.store"),icon:["far","basket-shopping"],href:"/case-battle/store"}];return this.$store.getters["user/isLogged"]&&t.splice(2,0,{id:"my-battles",text:this.$t("case-battle.tabs.my-battles"),icon:["far","clock-rotate-left"],href:"/case-battle/my-battles"}),{selectedTab:this.activeTab,leftItems:t}}},o=(n(822),n(1)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("AppTabSelector",{staticClass:"CaseBattleTabSelector",attrs:{lists:[{id:"left",items:t.leftItems},{id:"right",items:t.rightItems}]},scopedSlots:t._u([t._l(t.rightItems,(function(n){return{key:n.slot,fn:function(){return["new-battle"===n.slot?[e("AppButton",{key:n.slot,staticClass:"CaseBattleTabSelector_button",attrs:{size:"m",to:"/case-battle/new"}},[e("fa",{attrs:{icon:["fas","plus"]}}),t._v(t._s(t.$t("case-battle.tabs.new-battle"))+"\n      ")],1)]:[t._t(n.slot)]]},proxy:!0}}))],null,!0),model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}})}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{AppButton:n(45).default,AppTabSelector:n(791).default})},829:function(t,e,n){"use strict";n.r(e);n(56),n(36);var r={props:{value:{type:Number,required:!0},full:{type:Boolean,default:!1},animated:{type:Boolean,default:!1},friction:{type:Boolean,default:!1},keepWidth:{type:Boolean,default:!0}},computed:{visibleValue:function(){return(this.animated?this.animatedValue:this.value).toLocaleString("en-US",{maximumFractionDigits:0})}},data:function(){return{initialWidth:null,animatedValue:this.value,animationInterval:null,isAnimatingValue:!1}},methods:{animateValue:function(){var t=this;clearInterval(this.animationInterval),this.animationInterval=setInterval((function(){if(t.animatedValue===t.value)return t.isAnimatingValue=!1,void clearInterval(t.animationInterval);var e=(t.value-t.animatedValue)/7;t.animatedValue+=e>=0?Math.ceil(e):Math.floor(e),t.isAnimatingValue=!0}),20)}},mounted:function(){var t;this.full&&this.keepWidth&&(this.initialWidth=null===(t=this.$refs.caseBattleTokens)||void 0===t?void 0:t.clientWidth)},destroyed:function(){clearInterval(this.animationInterval)},watch:{value:function(){this.animated&&this.animateValue()}}},o=(n(832),n(1)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{ref:"caseBattleTokens",staticClass:"CaseBattleTokens",class:{"CaseBattleTokens--full":t.full,"CaseBattleTokens--friction":t.friction&&t.isAnimatingValue},style:{width:t.initialWidth&&"".concat(t.initialWidth,"px")}},[e("div",{staticClass:"CaseBattleTokens_inner"},[e("img",{staticClass:"CaseBattleTokens_icon",attrs:{src:n(815),alt:"Case battle tokens","aria-hidden":"",draggable:"false"}}),t._v(" "),e("div",{staticClass:"CaseBattleTokens_value"},[t._v("\n      "+t._s(t.visibleValue)+"\n    ")])])])}),[],!1,null,null,null);e.default=component.exports},832:function(t,e,n){"use strict";n(809)},833:function(t,e,n){var r=n(5)((function(i){return i[1]}));r.push([t.i,".CaseBattleTokens{font-size:.95rem;line-height:1.25rem;width:-moz-max-content;width:max-content;--tokens-image-size:24px;--border-radius:var(--border-radius-s)}.CaseBattleTokens .CaseBattleTokens_inner{align-items:center;display:flex;flex-direction:row;gap:.5rem;height:100%}.CaseBattleTokens .CaseBattleTokens_icon{filter:drop-shadow(0 4px 10px rgba(0,0,0,.6));height:var(--tokens-image-size);width:var(--tokens-image-size)}.CaseBattleTokens .CaseBattleTokens_value{font-weight:600}.CaseBattleTokens.CaseBattleTokens--full{background:linear-gradient(90deg,#72aaff,#0d325b);border-radius:var(--border-radius);font-size:1.1rem;height:40px;min-width:70px;padding:1px}.CaseBattleTokens.CaseBattleTokens--full .CaseBattleTokens_inner{background:linear-gradient(90deg,#1471bf,#0d325b);border-radius:var(--border-radius);font-size:.9rem;padding:0 .4rem}@keyframes CaseBattleTokensFrictionAnimation{0%{transform:translate(1px,1px) rotate(0deg)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-1px) rotate(1deg)}30%{transform:translate(1px,1px) rotate(0deg)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-1px,1px) rotate(0deg)}70%{transform:translate(2px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,1px) rotate(0deg)}to{transform:translate(1px,-1px) rotate(-1deg)}}.CaseBattleTokens.CaseBattleTokens--friction .CaseBattleTokens_inner{animation:CaseBattleTokensFrictionAnimation .5s linear infinite}@media screen and (min-width:1024px){.CaseBattleTokens.CaseBattleTokens--full .CaseBattleTokens_inner{padding:0 .75rem}}",""]),r.locals={},t.exports=r},834:function(t,e,n){var content=n(894);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(6).default)("0ddf67dc",content,!0,{sourceMap:!1})},893:function(t,e,n){"use strict";n(834)},894:function(t,e,n){var r=n(5)((function(i){return i[1]}));r.push([t.i,".CaseBattleList .CaseBattleList_header .header_list{display:none}.CaseBattleList .CaseBattleList_items{overflow:auto;overflow-anchor:none;overflow-y:hidden;position:relative}.CaseBattleList .CaseBattleList_items .items_item{position:relative;transition:background-color .15s;width:100%;z-index:2}.CaseBattleList .CaseBattleList_items .items_item.item--hovered{left:0;pointer-events:auto!important;position:absolute;top:0;top:var(--hover-top,0);transform:none!important;z-index:10}.CaseBattleList .CaseBattleList_items .items_item:last-child{border-bottom-width:1px}.CaseBattleList .CaseBattleList_items .items_item.item--started{--container-mask-color:#0a1f3f;--battle-opacity:0.5;background:rgba(var(--color-deep-background),.5)}.CaseBattleList .CaseBattleList_items .items_item.item--win{--container-mask-color:#0c2e41;background-color:rgba(0,255,0,.05)}.CaseBattleList .CaseBattleList_items .items_item.item--lose{--container-mask-color:#192141;background-color:rgba(255,0,0,.05)}.CaseBattleList .CaseBattleList_items .items_item:hover{--container-mask-color:rgb(var(--color-deep-background));--battle-opacity:1.0;background:rgb(var(--color-deep-background))}.CaseBattleList.CaseBattleList--load-animation .CaseBattleList_items{animation:CaseBattleListItemsLoadAnimation .5s ease}@keyframes CaseBattleListItemsLoadAnimation{0%{opacity:0;transform:translateY(-30px)}}.CaseBattleList .battle-item-enter-active,.CaseBattleList .battle-item-leave-active{transition:all var(--animation-duration) ease!important}.CaseBattleList .battle-item-enter,.CaseBattleList .battle-item-leave-to{height:0!important;opacity:0;pointer-events:none}.CaseBattleList .battle-item-move{transition:transform .5s ease-in-out!important}@media screen and (min-width:1024px){.CaseBattleList .CaseBattleList_header .header_list{display:grid;grid-template-columns:6fr 1fr 1.5fr 1fr 2fr;padding:0 1rem}.CaseBattleList .CaseBattleList_header .header_list .list_item{color:rgba(var(--color-grey-50),1);font-family:Lexend;font-size:.688rem;font-weight:600;line-height:1.25rem;padding:1rem 2rem;text-align:center;text-transform:uppercase}.CaseBattleList .CaseBattleList_header .header_list .list_item.item--price{width:125px}.CaseBattleList .CaseBattleList_header .header_list .list_item.item--price .list_item-button{align-items:center;display:flex;font-size:.688rem;font-weight:600;gap:.5rem;line-height:1.25rem;margin:0 auto;text-transform:uppercase}.CaseBattleList .CaseBattleList_header .header_list .list_item.item--price .list_item-button:hover .list_item-text{opacity:.8}.CaseBattleList .CaseBattleList_header .header_list .list_item.item--price .list_item-text{transition:opacity .3s}.CaseBattleList .CaseBattleList_header .header_list .list_item.item--action{padding-left:4rem}.CaseBattleList .CaseBattleList_header .header_list .list_item.item--rounds{align-items:center;display:flex;gap:1rem}.CaseBattleList .CaseBattleList_header .header_list .list_item-button{cursor:pointer}.CaseBattleList .CaseBattleList_sort-icon{font-size:1rem;--fa-primary-opacity:0.5;--fa-secondary-opacity:0.5}.CaseBattleList .CaseBattleList_sort-icon.sort_icon--asc{--fa-primary-opacity:1;--fa-primary-color:rgb(var(--color-primary));--fa-secondary-opacity:0.5}.CaseBattleList .CaseBattleList_sort-icon.sort_icon--desc{--fa-primary-opacity:0.5;--fa-secondary-color:rgb(var(--color-primary));--fa-secondary-opacity:1}.CaseBattleList .CaseBattleList_items .items_item{height:97px;overflow-y:hidden;z-index:2}}@media screen and (min-width:1440px){.CaseBattleList .CaseBattleList_header .header_list{grid-template-columns:6fr 1fr 1.5fr 1fr 1.5fr}}",""]),r.locals={},t.exports=r},934:function(t,e,n){"use strict";n.r(e);var r=n(2),o=(n(88),n(37),n(8),n(44),n(56),n(36),{props:{battles:{type:Array,require:!0},priceColumnName:{type:String,default:"price"},isAnimated:{type:Boolean,default:!0},animationDuration:{type:Number,default:750},hoverBattleIdx:{type:Number,default:null},sortColumns:{type:Array,default:function(){return[]}},isJoinAllowed:{type:Boolean,default:!0},displayStatusForOwnBattles:{type:Boolean,default:!1}},computed:{battlesCount:function(){return this.battles.length},hoverBattleTop:function(){return"".concat(this.hoverBattleHeight*this.hoverBattleIdx,"px")},isHoverEffectAllowed:function(){return null!==this.hoverBattleId&&this.hoverBattleIdx>0}},data:function(){return{headerItems:[{id:"rounds",name:"rounds",text:this.$t("case-battle.battles-list.rounds")},{id:"price",name:this.priceColumnName,text:this.$t("case-battle.battles-list.".concat(this.priceColumnName))},{id:"players",name:"players",text:this.$t("case-battle.battles-list.players")},{id:"mode",name:"mode",text:this.$t("case-battle.battles-list.game-mode")},{id:"action",name:"action",text:this.$t("case-battle.battles-list.action")}],hoverBattleId:null,hoverBattleHeight:0,hoverDebounce:null,sortBy:"createdAt",sortDir:"asc"}},methods:{onSortChanged:function(t){this.sortBy!==t?(this.sortBy=t,this.sortDir="asc"):"asc"===this.sortDir?this.sortDir="desc":(this.sortBy="createdAt",this.sortDir="asc"),this.$emit("onSortChanged",{sortBy:this.sortBy,sortDir:this.sortDir})},onMouseItemEnter:function(t,e){var n=this;this.hoverDebounce&&(clearTimeout(this.hoverDebounce),this.hoverDebounce=null),this.hoverDebounce=setTimeout((function(){n.hoverBattleId=t,n.hoverBattleHeight=n.getBattleDisplayHeight(t),n.$emit("onMouseItemEnter",t,e)}),250)},onMouseItemLeave:function(){var t=this.hoverBattleId;this.resetHover(),t&&this.$emit("onMouseItemLeave")},resetHover:function(){clearTimeout(this.hoverDebounce),this.hoverBattleId=null,this.hoverBattleHeight=0},getBattleDisplayHeight:function(t){var e,n=null===(e=this.$refs["battle-".concat(t)][0])||void 0===e?void 0:e.$el;return(null==n?void 0:n.offsetHeight)||0}}}),l=(n(893),n(1)),component=Object(l.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"CaseBattleList",class:{"CaseBattleList--load-animation":t.battles.length},style:{"--animation-duration":"".concat(t.animationDuration,"ms")}},[e("div",{staticClass:"CaseBattleList_header"},[e("ul",{staticClass:"header_list"},t._l(t.headerItems,(function(n){return e("li",{key:n.id,class:Object(r.a)({list_item:!0},"item--".concat(n.id),!0)},[t.sortColumns.includes(n.id)?[e("button",{staticClass:"list_item-button",on:{click:function(e){return e.preventDefault(),t.onSortChanged(n.id)}}},[e("span",{staticClass:"list_item-text"},[t._v("\n              "+t._s(n.text)+"\n            ")]),t._v(" "),e("fa",{class:Object(r.a)({"CaseBattleList_sort-icon":!0},"sort_icon--".concat(t.sortDir),t.sortBy===n.id),attrs:{icon:["fad","sort"]}})],1)]:[t._v("\n          "+t._s(n.text)+"\n\n          "),"rounds"===n.id?[t._t("filters")]:t._e()]],2)})),0)]),t._v(" "),e("TransitionGroup",{staticClass:"CaseBattleList_items",attrs:{name:"battle-item",tag:"div",css:t.isAnimated}},t._l(t.battles,(function(n,o){return e("CaseBattleListItem",{key:n.id,ref:"battle-".concat(n.id),refInFor:!0,staticClass:"items_item",class:Object(r.a)({"item--started":!t.displayStatusForOwnBattles&&n.startedAt,"item--hovered":t.isHoverEffectAllowed&&n.id===t.hoverBattleId},"item--".concat(n.slots.find((function(slot){var e;return(null===(e=slot.user)||void 0===e?void 0:e.id)===t.$store.getters["user/id"]&&slot.isWinner}))||n.winnerId===t.$store.getters["user/id"]?"win":"lose"),t.displayStatusForOwnBattles&&n.startedAt),style:{"margin-bottom":t.isHoverEffectAllowed&&o===t.hoverBattleIdx-1?"".concat(t.hoverBattleHeight,"px"):null,"--hover-top":n.id===t.hoverBattleId?t.hoverBattleTop:null},attrs:{item:n,isAnimated:t.isAnimated,isJoinAllowed:t.isJoinAllowed},on:{joined:function(e){return t.$emit("joined",e)},battleEnded:function(e){return t.$emit("battleEnded",n.id)}},nativeOn:{mouseenter:function(e){return t.onMouseItemEnter(n.id,o)},mouseleave:function(e){return t.onMouseItemLeave(n.id)}}})})),1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CaseBattleListItem:n(1063).default})},952:function(t,e,n){var content=n(1086);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(6).default)("dc9dc302",content,!0,{sourceMap:!1})}}]);